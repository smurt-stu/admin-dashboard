(()=>{var e={};e.id=405,e.ids=[405],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38196:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=t(70260),a=t(28203),i=t(25155),n=t.n(i),d=t(67292),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let o=["",{children:["admin",{children:["marketing",{children:["coupons",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,50047)),"/home/mohjas/CascadeProjects/admin/app/admin/marketing/coupons/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,54899)),"/home/mohjas/CascadeProjects/admin/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"/home/mohjas/CascadeProjects/admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,61129)),"/home/mohjas/CascadeProjects/admin/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/mohjas/CascadeProjects/admin/app/admin/marketing/coupons/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/marketing/coupons/page",pathname:"/admin/marketing/coupons",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},71362:(e,s,t)=>{Promise.resolve().then(t.bind(t,50047))},89514:(e,s,t)=>{Promise.resolve().then(t.bind(t,84275))},84275:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(45512),a=t(58009),i=t(28531),n=t.n(i);function d(){let[e,s]=(0,a.useState)(""),[t,i]=(0,a.useState)("all"),[d,l]=(0,a.useState)("all"),o=e=>e.is_expired?(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:"منتهي الصلاحية"}):e.is_used_up?(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700",children:"مستنفد"}):e.is_active?(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"نشط"}):(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"غير نشط"}),c=e=>"percentage"===e?(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"نسبة مئوية"}):(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:"مبلغ ثابت"}),x=[{id:1,code:"SAVE20",title:"خصم 20% على كل شيء",description:"خصم 20% على جميع المنتجات",discount_type:"percentage",discount_value:"20.00",discount_text:"20%",is_valid:!0,min_order_amount:"50.00",start_date:"2024-01-01T00:00:00Z",end_date:"2024-12-31T23:59:59Z",usage_limit:1e3,usage_count:150,usage_limit_per_user:1,is_first_order_only:!1,is_combinable:!0,max_discount_amount:"100.00",status:"active",is_active:!0,is_expired:!1,is_used_up:!1,usage_percentage:15,time_remaining:{days:45,hours:12,minutes:30}},{id:2,code:"NEWUSER50",title:"خصم 50% للمستخدمين الجدد",description:"خصم خاص للمستخدمين الجدد",discount_type:"percentage",discount_value:"50.00",discount_text:"50%",is_valid:!0,min_order_amount:"20.00",start_date:"2024-01-01T00:00:00Z",end_date:"2024-06-30T23:59:59Z",usage_limit:500,usage_count:100,usage_limit_per_user:1,is_first_order_only:!0,is_combinable:!1,max_discount_amount:"200.00",status:"active",is_active:!0,is_expired:!1,is_used_up:!1,usage_percentage:20,time_remaining:{days:180,hours:12,minutes:30}},{id:3,code:"FREESHIP",title:"شحن مجاني",description:"شحن مجاني على جميع الطلبات",discount_type:"fixed",discount_value:"10.00",discount_text:"$10",is_valid:!0,min_order_amount:"100.00",start_date:"2024-01-01T00:00:00Z",end_date:"2024-03-31T23:59:59Z",usage_limit:200,usage_count:75,usage_limit_per_user:1,is_first_order_only:!1,is_combinable:!0,max_discount_amount:"10.00",status:"active",is_active:!0,is_expired:!1,is_used_up:!1,usage_percentage:37.5,time_remaining:{days:90,hours:12,minutes:30}}].filter(s=>{let r=s.code.toLowerCase().includes(e.toLowerCase())||s.title.toLowerCase().includes(e.toLowerCase()),a="all"===t||"active"===t&&s.is_active&&!s.is_expired&&!s.is_used_up||"expired"===t&&s.is_expired||"used_up"===t&&s.is_used_up,i="all"===d||s.discount_type===d;return r&&a&&i});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"إدارة الكوبونات"}),(0,r.jsxs)(n(),{href:"/admin/marketing/coupons/create",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)("i",{className:"ri-add-line"}),(0,r.jsx)("span",{children:"إضافة كوبون جديد"})]})]}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البحث"}),(0,r.jsx)("input",{type:"text",placeholder:"ابحث بالكود أو العنوان...",value:e,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحالة"}),(0,r.jsxs)("select",{value:t,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"جميع الحالات"}),(0,r.jsx)("option",{value:"active",children:"نشط"}),(0,r.jsx)("option",{value:"expired",children:"منتهي الصلاحية"}),(0,r.jsx)("option",{value:"used_up",children:"مستنفد"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نوع الخصم"}),(0,r.jsxs)("select",{value:d,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"جميع الأنواع"}),(0,r.jsx)("option",{value:"percentage",children:"نسبة مئوية"}),(0,r.jsx)("option",{value:"fixed",children:"مبلغ ثابت"})]})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsx)("button",{onClick:()=>{s(""),i("all"),l("all")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"إعادة تعيين"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الكوبون"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الخصم"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاستخدام"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الصلاحية"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["كود: ",e.code]}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:e.description})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-green-600",children:e.discount_text}),c(e.discount_type)]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["الحد الأدنى: $",e.min_order_amount]})]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-900",children:[e.usage_count," / ",e.usage_limit]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.usage_percentage}%`}})}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.usage_percentage.toFixed(1),"% مستخدم"]})]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900",children:new Date(e.start_date).toLocaleDateString("ar-SA")}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["إلى ",new Date(e.end_date).toLocaleDateString("ar-SA")]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["متبقي: ",e.time_remaining.days," يوم"]})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:o(e)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)(n(),{href:`/admin/marketing/coupons/${e.id}`,className:"text-blue-600 hover:text-blue-900",children:"عرض"}),(0,r.jsx)(n(),{href:`/admin/marketing/coupons/${e.id}/edit`,className:"text-green-600 hover:text-green-900",children:"تعديل"}),(0,r.jsx)("button",{className:"text-red-600 hover:text-red-900",children:"حذف"})]})})]},e.id))})]})})}),(0,r.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,r.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"السابق"}),(0,r.jsx)("button",{className:"mr-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"التالي"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["عرض ",(0,r.jsx)("span",{className:"font-medium",children:"1"})," إلى ",(0,r.jsx)("span",{className:"font-medium",children:"10"})," من ",(0,r.jsx)("span",{className:"font-medium",children:"97"})," نتيجة"]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,r.jsxs)("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,r.jsx)("span",{className:"sr-only",children:"السابق"}),(0,r.jsx)("i",{className:"ri-arrow-right-s-line"})]}),(0,r.jsx)("button",{className:"bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:"1"}),(0,r.jsx)("button",{className:"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:"2"}),(0,r.jsx)("button",{className:"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:"3"}),(0,r.jsxs)("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,r.jsx)("span",{className:"sr-only",children:"التالي"}),(0,r.jsx)("i",{className:"ri-arrow-left-s-line"})]})]})})]})]})]})}},50047:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mohjas/CascadeProjects/admin/app/admin/marketing/coupons/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mohjas/CascadeProjects/admin/app/admin/marketing/coupons/page.tsx","default")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[135,889,817],()=>t(38196));module.exports=r})();