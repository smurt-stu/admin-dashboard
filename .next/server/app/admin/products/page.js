(()=>{var e={};e.id=575,e.ids=[575],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},75178:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=s(70260),a=s(28203),i=s(25155),l=s.n(i),n=s(67292),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["admin",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,26439)),"/home/mohjas/CascadeProjects/admin/app/admin/products/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,54899)),"/home/mohjas/CascadeProjects/admin/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,19611)),"/home/mohjas/CascadeProjects/admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,61129)),"/home/mohjas/CascadeProjects/admin/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],o=["/home/mohjas/CascadeProjects/admin/app/admin/products/page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/products/page",pathname:"/admin/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},36416:(e,t,s)=>{Promise.resolve().then(s.bind(s,26439))},99968:(e,t,s)=>{Promise.resolve().then(s.bind(s,80227))},80227:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(45512),a=s(58009),i=s(28531),l=s.n(i),n=s(47613);function c(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[c,x]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[p,u]=(0,a.useState)(0),[g,b]=(0,a.useState)([]),[j,y]=(0,a.useState)("table"),[f,v]=(0,a.useState)({search:"",category:"",is_featured:"",is_bestseller:"",ordering:"-created_at",page:1}),N=async()=>{try{x(!0);let e={page:f.page,page_size:20,ordering:f.ordering};f.search&&(e.search=f.search),f.category&&(e.category=f.category),f.is_featured&&(e.is_featured="true"===f.is_featured),f.is_bestseller&&(e.is_bestseller="true"===f.is_bestseller);let s=await n.b.getProducts(e);t(s?.results||[]),u(s?.count||0),h(null)}catch(e){h("فشل في تحميل المنتجات"),t([]),u(0)}finally{x(!1)}},w=(e,t)=>{v(s=>({...s,[e]:t,page:"page"!==e?1:"string"==typeof t?parseInt(t):t}))},$=e=>{b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},P=async e=>{if(confirm("هل أنت متأكد من حذف هذا المنتج؟"))try{await n.b.deleteProduct(e),N(),b(t=>t.filter(t=>t!==e))}catch(e){alert("فشل في حذف المنتج")}},S=async()=>{let e=g||[];if(0!==e.length&&confirm(`هل أنت متأكد من حذف ${e.length} منتج؟`))try{await Promise.all(e.map(e=>n.b.deleteProduct(e))),N(),b([])}catch(e){alert("فشل في حذف المنتجات")}},k=e=>{let t=parseFloat(e);return new Intl.NumberFormat("ar-SA",{style:"currency",currency:"JOD"}).format(t)},_=e=>e?{color:"bg-green-100 text-green-800",text:"متوفر"}:{color:"bg-red-100 text-red-800",text:"نفد المخزون"},C=e=>e||"بدون عنوان",O=e=>e||"فئة عامة",E=e=>e.name||"بدون اسم",T=Math.ceil(p/20),D=e||[],A=g||[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"إدارة المنتجات"}),(0,r.jsxs)("p",{className:"text-gray-600 mt-1",children:["(",p," منتج)"]})]}),(0,r.jsxs)("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[(0,r.jsxs)(l(),{href:"/admin/products/create",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 rtl:space-x-reverse cursor-pointer transition-colors",children:[(0,r.jsx)("i",{className:"ri-add-line"}),(0,r.jsx)("span",{children:"إضافة منتج جديد"})]}),A.length>0&&(0,r.jsxs)("button",{onClick:S,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center space-x-2 rtl:space-x-reverse transition-colors",children:[(0,r.jsx)("i",{className:"ri-delete-bin-line"}),(0,r.jsxs)("span",{children:["حذف المحدد (",A.length,")"]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)("i",{className:"ri-box-3-fill text-blue-600 text-xl"})}),(0,r.jsxs)("div",{className:"mr-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"إجمالي المنتجات"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p})]})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,r.jsx)("i",{className:"ri-check-line text-green-600 text-xl"})}),(0,r.jsxs)("div",{className:"mr-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"متوفر"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:D.filter(e=>e.in_stock).length})]})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)("i",{className:"ri-star-fill text-blue-600 text-xl"})}),(0,r.jsxs)("div",{className:"mr-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"مميز"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:D.filter(e=>e.is_featured).length})]})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,r.jsx)("i",{className:"ri-fire-fill text-purple-600 text-xl"})}),(0,r.jsxs)("div",{className:"mr-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"مبيعات عالية"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:D.filter(e=>e.is_bestseller).length})]})]})})]}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(e=>({...e,page:1}))},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"البحث"}),(0,r.jsx)("input",{type:"text",value:f.search,onChange:e=>w("search",e.target.value),placeholder:"البحث في المنتجات...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"التصنيف"}),(0,r.jsxs)("select",{value:f.category,onChange:e=>w("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"جميع التصنيفات"}),(s||[]).map(e=>(0,r.jsx)("option",{value:e.id,children:E(e)},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحالة"}),(0,r.jsxs)("select",{value:f.is_featured,onChange:e=>w("is_featured",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"جميع الحالات"}),(0,r.jsx)("option",{value:"true",children:"مميز"}),(0,r.jsx)("option",{value:"false",children:"غير مميز"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الترتيب حسب"}),(0,r.jsxs)("select",{value:f.ordering,onChange:e=>w("ordering",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"-created_at",children:"الأحدث"}),(0,r.jsx)("option",{value:"created_at",children:"الأقدم"}),(0,r.jsx)("option",{value:"title",children:"الاسم (أ - ي)"}),(0,r.jsx)("option",{value:"-title",children:"الاسم (ي - أ)"}),(0,r.jsx)("option",{value:"price",children:"السعر (الأقل)"}),(0,r.jsx)("option",{value:"-price",children:"السعر (الأعلى)"}),(0,r.jsx)("option",{value:"-views_count",children:"الأكثر مشاهدة"}),(0,r.jsx)("option",{value:"-sales_count",children:"الأكثر مبيعاً"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[(0,r.jsxs)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)("i",{className:"ri-search-line"}),(0,r.jsx)("span",{children:"بحث"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>v({search:"",category:"",is_featured:"",is_bestseller:"",ordering:"-created_at",page:1}),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"إعادة تعيين"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"عرض:"}),(0,r.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>y("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"table"===j?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[(0,r.jsx)("i",{className:"ri-table-line ml-1"}),"جدول"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>y("cards"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"cards"===j?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[(0,r.jsx)("i",{className:"ri-grid-line ml-1"}),"بطاقات"]})]})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[c?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"جارِ التحميل..."})]}):m?(0,r.jsxs)("div",{className:"p-8 text-center text-red-600",children:[(0,r.jsx)("i",{className:"ri-error-warning-line text-4xl mb-2"}),(0,r.jsx)("p",{children:m}),(0,r.jsx)("button",{onClick:N,className:"mt-2 text-blue-600 hover:text-blue-700",children:"إعادة المحاولة"})]}):0===D.length?(0,r.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,r.jsx)("i",{className:"ri-package-line text-4xl mb-2"}),(0,r.jsx)("p",{children:"لا توجد منتجات"})]}):"table"===j?(0,r.jsx)(d,{products:D,selectedProducts:A,onSelectProduct:$,onSelectAll:()=>{let t=e||[];(g||[]).length===t.length&&t.length>0?b([]):b(t.map(e=>e.id))},onDeleteProduct:P,getProductTitle:C,getCategoryName:O,formatPrice:k,getStockStatus:_}):(0,r.jsx)(o,{products:D,selectedProducts:A,onSelectProduct:$,onDeleteProduct:P,getProductTitle:C,getCategoryName:O,formatPrice:k,getStockStatus:_}),T>1&&(0,r.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,r.jsx)("button",{onClick:()=>w("page",Math.max(1,f.page-1)),disabled:f.page<=1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"السابق"}),(0,r.jsx)("button",{onClick:()=>w("page",Math.min(T,f.page+1)),disabled:f.page>=T,className:"mr-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"التالي"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["عرض"," ",(0,r.jsx)("span",{className:"font-medium",children:(f.page-1)*20+1})," ","إلى"," ",(0,r.jsx)("span",{className:"font-medium",children:Math.min(20*f.page,p)})," ","من"," ",(0,r.jsx)("span",{className:"font-medium",children:p})," ","نتيجة"]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px rtl:space-x-reverse","aria-label":"Pagination",children:[(0,r.jsx)("button",{onClick:()=>w("page",Math.max(1,f.page-1)),disabled:f.page<=1,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)("i",{className:"ri-arrow-right-s-line"})}),Array.from({length:Math.min(5,T)},(e,t)=>{let s=t+1;return(0,r.jsx)("button",{onClick:()=>w("page",s),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${f.page===s?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:s},s)}),(0,r.jsx)("button",{onClick:()=>w("page",Math.min(T,f.page+1)),disabled:f.page>=T,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)("i",{className:"ri-arrow-left-s-line"})})]})})]})]})]})]})}function d({products:e,selectedProducts:t,onSelectProduct:s,onSelectAll:a,onDeleteProduct:i,getProductTitle:n,getCategoryName:c,formatPrice:d,getStockStatus:o}){return(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)("input",{type:"checkbox",checked:t.length===e.length&&e.length>0,onChange:a,className:"rounded border-gray-300 focus:ring-blue-500"})}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المنتج"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التصنيف"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"السعر"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المخزون"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الإنشاء"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العمليات"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{let a=o(e.in_stock);return(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("input",{type:"checkbox",checked:t.includes(e.id),onChange:()=>s(e.id),className:"rounded border-gray-300 focus:ring-blue-500"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-12 w-12",children:e.main_image?(0,r.jsx)("img",{className:"h-12 w-12 rounded-lg object-cover border border-gray-200",src:e.main_image,alt:n(e.title)}):(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center border border-gray-200",children:(0,r.jsx)("i",{className:"ri-image-line text-gray-400"})})}),(0,r.jsxs)("div",{className:"mr-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:n(e.title)}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id.slice(0,8),"..."]})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:c(e.category_name)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:d(e.price)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.color}`,children:[(0,r.jsx)("i",{className:`ri-${"متوفر"===a.text?"check":"close"}-line ml-1`}),a.text]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex space-x-1 rtl:space-x-reverse",children:[e.is_featured&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:[(0,r.jsx)("i",{className:"ri-star-fill ml-1"}),"مميز"]}),e.is_bestseller&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:[(0,r.jsx)("i",{className:"ri-fire-fill ml-1"}),"مبيعات عالية"]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("ar-SA")}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)(l(),{href:`/admin/products/${e.id}`,className:"text-blue-600 hover:text-blue-700 p-1 rounded hover:bg-blue-50 transition-colors",title:"عرض",children:(0,r.jsx)("i",{className:"ri-eye-line"})}),(0,r.jsx)(l(),{href:`/admin/products/${e.id}/edit`,className:"text-green-600 hover:text-green-700 p-1 rounded hover:bg-green-50 transition-colors",title:"تعديل",children:(0,r.jsx)("i",{className:"ri-edit-line"})}),(0,r.jsx)("button",{onClick:()=>i(e.id),className:"text-red-600 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"حذف",children:(0,r.jsx)("i",{className:"ri-delete-bin-line"})})]})})]},e.id)})})]})})}function o({products:e,selectedProducts:t,onSelectProduct:s,onDeleteProduct:a,getProductTitle:i,getCategoryName:n,formatPrice:c,getStockStatus:d}){return(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:e.map(e=>{let o=d(e.in_stock);return(0,r.jsx)("div",{className:"group bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-t-xl",children:[e.main_image?(0,r.jsx)("img",{className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",src:e.main_image,alt:i(e.title)}):(0,r.jsx)("div",{className:"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 rounded-t-xl flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-image-line text-gray-400 text-4xl"})}),(0,r.jsx)("div",{className:"absolute top-3 right-3",children:(0,r.jsx)("input",{type:"checkbox",checked:t.includes(e.id),onChange:()=>s(e.id),className:"rounded border-gray-300 bg-white shadow-sm focus:ring-blue-500"})}),(0,r.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col space-y-1",children:[e.is_featured&&(0,r.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 shadow-sm",children:[(0,r.jsx)("i",{className:"ri-star-fill ml-1"}),"مميز"]}),e.is_bestseller&&(0,r.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800 shadow-sm",children:[(0,r.jsx)("i",{className:"ri-fire-fill ml-1"}),"مبيعات عالية"]})]}),(0,r.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o.color} shadow-sm`,children:o.text})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-2",children:i(e.title)}),(0,r.jsx)("p",{className:"text-sm text-gray-500 line-clamp-1",children:n(e.category_name)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-blue-600",children:c(e.price)}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["ID: ",e.id.slice(0,8),"..."]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex space-x-1 rtl:space-x-reverse",children:[(0,r.jsx)(l(),{href:`/admin/products/${e.id}`,className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"عرض",children:(0,r.jsx)("i",{className:"ri-eye-line"})}),(0,r.jsx)(l(),{href:`/admin/products/${e.id}/edit`,className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50 transition-colors",title:"تعديل",children:(0,r.jsx)("i",{className:"ri-edit-line"})}),(0,r.jsx)("button",{onClick:()=>a(e.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"حذف",children:(0,r.jsx)("i",{className:"ri-delete-bin-line"})})]}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString("ar-SA")})]})]})]})},e.id)})})})}},47613:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});let r="https://smart-ai-api.onrender.com/api/v1",a=()=>{let e=localStorage.getItem("access_token");return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}};class i{static async getCategories(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/categories/?${t}`,{headers:a()})).json()}static async getCategory(e){return(await fetch(`${r}/store/products/categories/${e}/`,{headers:a()})).json()}static async createCategory(e){return(await fetch(`${r}/store/products/categories/`,{method:"POST",headers:a(),body:JSON.stringify(e)})).json()}static async updateCategory(e,t){return(await fetch(`${r}/store/products/categories/${e}/`,{method:"PATCH",headers:a(),body:JSON.stringify(t)})).json()}static async deleteCategory(e){await fetch(`${r}/store/products/categories/${e}/`,{method:"DELETE",headers:a()})}static async getCategoryTree(){return(await fetch(`${r}/store/products/categories/tree/`,{headers:a()})).json()}static async getCategoryProducts(e,t){let s=new URLSearchParams;return t&&Object.entries(t).forEach(([e,t])=>{void 0!==t&&s.append(e,t.toString())}),(await fetch(`${r}/store/products/categories/${e}/products/?${s}`,{headers:a()})).json()}static async getProducts(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/products/?${t}`,{headers:a()})).json()}static async getProduct(e){return(await fetch(`${r}/store/products/products/${e}/`,{headers:a()})).json()}static async createProduct(e){return(await fetch(`${r}/store/products/products/`,{method:"POST",headers:a(),body:JSON.stringify(e)})).json()}static async updateProduct(e,t){return(await fetch(`${r}/store/products/products/${e}/`,{method:"PATCH",headers:a(),body:JSON.stringify(t)})).json()}static async deleteProduct(e){await fetch(`${r}/store/products/products/${e}/`,{method:"DELETE",headers:a()})}static async getFeaturedProducts(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/products/featured/?${t}`,{headers:a()})).json()}static async getBestsellers(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/products/bestsellers/?${t}`,{headers:a()})).json()}static async getNewArrivals(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/products/new-arrivals/?${t}`,{headers:a()})).json()}static async getOnSaleProducts(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/products/on-sale/?${t}`,{headers:a()})).json()}static async searchProducts(e,t){let s=new URLSearchParams({q:e});return t&&Object.entries(t).forEach(([e,t])=>{void 0!==t&&s.append(e,t.toString())}),(await fetch(`${r}/store/products/products/search/?${s}`,{headers:a()})).json()}static async getLowStockProducts(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/products/low-stock/?${t}`,{headers:a()})).json()}static async bulkUpdateProducts(e){await fetch(`${r}/store/products/products/bulk-update/`,{method:"POST",headers:a(),body:JSON.stringify({products:e})})}static async getRelatedProducts(e){return(await fetch(`${r}/store/products/products/${e}/related/`,{headers:a()})).json()}static async updateStock(e,t){return(await fetch(`${r}/store/products/products/${e}/update-stock/`,{method:"POST",headers:a(),body:JSON.stringify(t)})).json()}static async getProductImages(e){let t=e?`?product=${e}`:"";return(await fetch(`${r}/store/products/images/${t}`,{headers:a()})).json()}static async uploadProductImage(e){let t=localStorage.getItem("access_token");return(await fetch(`${r}/store/products/images/`,{method:"POST",headers:{...t&&{Authorization:`Bearer ${t}`}},body:e})).json()}static async updateProductImage(e,t){return(await fetch(`${r}/store/products/images/${e}/`,{method:"PATCH",headers:a(),body:JSON.stringify(t)})).json()}static async deleteProductImage(e){await fetch(`${r}/store/products/images/${e}/`,{method:"DELETE",headers:a()})}static async setMainImage(e){await fetch(`${r}/store/products/images/${e}/set-main/`,{method:"POST",headers:a()})}static async reorderImages(e){await fetch(`${r}/store/products/images/reorder/`,{method:"POST",headers:a(),body:JSON.stringify({orders:e})})}static async getDepartments(){return(await fetch(`${r}/store/products/departments/`,{headers:a()})).json()}static async getDepartment(e){return(await fetch(`${r}/store/products/departments/${e}/`,{headers:a()})).json()}static async createDepartment(e){return(await fetch(`${r}/store/products/departments/`,{method:"POST",headers:a(),body:JSON.stringify(e)})).json()}static async updateDepartment(e,t){return(await fetch(`${r}/store/products/departments/${e}/`,{method:"PATCH",headers:a(),body:JSON.stringify(t)})).json()}static async deleteDepartment(e){await fetch(`${r}/store/products/departments/${e}/`,{method:"DELETE",headers:a()})}static async getAnalytics(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{void 0!==s&&t.append(e,s.toString())}),(await fetch(`${r}/store/products/analytics/?${t}`,{headers:a()})).json()}static async getAnalyticsDashboard(){return(await fetch(`${r}/store/products/analytics/dashboard/`,{headers:a()})).json()}static async getInventoryReport(){return(await fetch(`${r}/store/products/analytics/inventory-report/`,{headers:a()})).json()}static async getStoreSettings(){return(await fetch(`${r}/store/core/settings/`,{headers:a()})).json()}static async getStoreConstants(){return(await fetch(`${r}/store/core/constants/`,{headers:a()})).json()}}},26439:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mohjas/CascadeProjects/admin/app/admin/products/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mohjas/CascadeProjects/admin/app/admin/products/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[135,889,817],()=>s(75178));module.exports=r})();